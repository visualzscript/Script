local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")
local TextChatService = game:GetService("TextChatService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local player = game.Players.LocalPlayer

-- Заданный пароль
local PASSWORD = "M1n1Script"

-- Создаем GUI для ввода пароля
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.ResetOnSpawn = false

local passwordFrame = Instance.new("Frame")
passwordFrame.Size = UDim2.new(0, 300, 0, 150)
passwordFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
passwordFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- Серый цвет
passwordFrame.BorderSizePixel = 0
passwordFrame.AnchorPoint = Vector2.new(0.5, 0.5)
passwordFrame.ClipsDescendants = true
passwordFrame.Parent = gui

local roundCorner = Instance.new("UICorner", passwordFrame)
roundCorner.CornerRadius = UDim.new(0, 10)

local fadeIn = TweenService:Create(passwordFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
    BackgroundTransparency = 0
})
fadeIn:Play()

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0, 40)
titleLabel.Position = UDim2.new(0, 0, 0, 10)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "ENTER PASSWORD"
titleLabel.TextColor3 = Color3.fromRGB(255, 0, 0) -- Красный цвет
titleLabel.TextScaled = true
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.Parent = passwordFrame

local passwordBox = Instance.new("TextBox")
passwordBox.Size = UDim2.new(0, 260, 0, 30)
passwordBox.Position = UDim2.new(0.5, -130, 0, 60)
passwordBox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
passwordBox.PlaceholderText = "Enter password"
passwordBox.Text = ""
passwordBox.TextColor3 = Color3.fromRGB(255, 255, 255)
passwordBox.Font = Enum.Font.SourceSans
passwordBox.TextScaled = true
passwordBox.ClearTextOnFocus = false
passwordBox.Parent = passwordFrame

local boxCorner = Instance.new("UICorner", passwordBox)
boxCorner.CornerRadius = UDim.new(0, 5)

local enterButton = Instance.new("TextButton")
enterButton.Size = UDim2.new(0, 200, 0, 30)
enterButton.Position = UDim2.new(0.5, -100, 0, 100)
enterButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- Красная кнопка
enterButton.Text = "ENTER"
enterButton.TextColor3 = Color3.fromRGB(255, 255, 255)
enterButton.Font = Enum.Font.SourceSansBold
enterButton.TextScaled = true
enterButton.Parent = passwordFrame

local buttonCorner = Instance.new("UICorner", enterButton)
buttonCorner.CornerRadius = UDim.new(0, 10)

-- Функция проверки пароля
enterButton.MouseButton1Click:Connect(function()
    if passwordBox.Text == PASSWORD then
        local fadeOut = TweenService:Create(passwordFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
            BackgroundTransparency = 1
        })
        fadeOut:Play()
        fadeOut.Completed:Connect(function()
            passwordFrame:Destroy()

            -- Создаем основной GUI
            local mainFrame = Instance.new("Frame")
            mainFrame.Size = UDim2.new(0, 300, 0, 200)
            mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
            mainFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- Серый цвет
            mainFrame.BorderSizePixel = 0
            mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
            mainFrame.ClipsDescendants = true
            mainFrame.Parent = gui

            local roundCorner = Instance.new("UICorner", mainFrame)
            roundCorner.CornerRadius = UDim.new(0, 10)

            mainFrame.BackgroundTransparency = 1
            mainFrame.Size = UDim2.new(0, 0, 0, 0)
            local fadeIn = TweenService:Create(mainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                BackgroundTransparency = 0,
                Size = UDim2.new(0, 300, 0, 200)
            })
            fadeIn:Play()

            -- Добавление элементов основного GUI
            local ipLabel = Instance.new("TextLabel")
            ipLabel.Size = UDim2.new(0, 80, 0, 40)
            ipLabel.Position = UDim2.new(0, 10, 0, 10)
            ipLabel.BackgroundTransparency = 1
            ipLabel.Text = "IP"
            ipLabel.TextColor3 = Color3.fromRGB(255, 0, 0) -- Красный цвет
            ipLabel.TextScaled = true
            ipLabel.Font = Enum.Font.SourceSansBold
            ipLabel.Parent = mainFrame

            local loggerLabel = Instance.new("TextLabel")
            loggerLabel.Size = UDim2.new(0, 100, 0, 40)
            loggerLabel.Position = UDim2.new(0, 80, 0, 10)
            loggerLabel.BackgroundTransparency = 1
            loggerLabel.Text = "GRABBER"
            loggerLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
            loggerLabel.TextScaled = true
            loggerLabel.Font = Enum.Font.SourceSansBold
            loggerLabel.Parent = mainFrame

            local usernameBox = Instance.new("TextBox")
            usernameBox.Size = UDim2.new(0, 260, 0, 30)
            usernameBox.Position = UDim2.new(0.5, -130, 0, 60)
            usernameBox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
            usernameBox.PlaceholderText = "Input Display Name"
            usernameBox.Text = ""
            usernameBox.TextColor3 = Color3.fromRGB(255, 255, 255)
            usernameBox.Font = Enum.Font.SourceSans
            usernameBox.TextScaled = true
            usernameBox.ClearTextOnFocus = false
            usernameBox.Parent = mainFrame

            local boxCorner = Instance.new("UICorner", usernameBox)
            boxCorner.CornerRadius = UDim.new(0, 5)

            local closeButton = Instance.new("TextButton")
            closeButton.Size = UDim2.new(0, 30, 0, 30)
            closeButton.Position = UDim2.new(1, -40, 0, 10)
            closeButton.BackgroundTransparency = 1
            closeButton.Text = "X"
            closeButton.TextColor3 = Color3.fromRGB(200, 0, 0)
            closeButton.Font = Enum.Font.SourceSansBold
            closeButton.TextScaled = true
            closeButton.Parent = mainFrame

            local takeIPButton = Instance.new("TextButton")
            takeIPButton.Size = UDim2.new(0, 200, 0, 30)
            takeIPButton.Position = UDim2.new(0.5, -100, 0, 110)
            takeIPButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- Красный цвет
            takeIPButton.Text = "GET IP"
            takeIPButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            takeIPButton.Font = Enum.Font.SourceSansBold
            takeIPButton.TextScaled = true
            takeIPButton.Parent = mainFrame

            local buttonCorner = Instance.new("UICorner", takeIPButton)
            buttonCorner.CornerRadius = UDim.new(0, 10)

            local creditsText = Instance.new("TextLabel")
            creditsText.Size = UDim2.new(1, -20, 0, 40)
            creditsText.Position = UDim2.new(0, 10, 0, 160)
            creditsText.BackgroundTransparency = 1
            creditsText.Text = "Remake: M1n1Script\nYouTube Channel: - Visualz"
            creditsText.TextColor3 = Color3.fromRGB(255, 255, 255)
            creditsText.TextScaled = false
            creditsText.Font = Enum.Font.SourceSans
            creditsText.TextSize = 14
            creditsText.TextXAlignment = Enum.TextXAlignment.Left
            creditsText.TextYAlignment = Enum.TextYAlignment.Top
            creditsText.Parent = mainFrame

            local function generateFakeIP()
                return string.format("%d.%d.%d.%d", math.random(60, 210), math.random(0, 80), math.random(0, 100), math.random(1, 255))
            end

            local function sendMessage(msg)
                if TextChatService.TextChannels.RBXGeneral then
                    TextChatService.TextChannels.RBXGeneral:SendAsync(msg)
                end
            end

            takeIPButton.MouseButton1Click:Connect(function()
                local displayName = usernameBox.Text
                if displayName == "" then return end
                
                local targetPlayer = nil
                for _, player in pairs(Players:GetPlayers()) do
                    if player.DisplayName == displayName then
                        targetPlayer = player
                        break
                    end
                end
                
                if targetPlayer then
                    sendMessage("Processing...")
                    wait(2)
                    sendMessage("The player's IP was found (" .. targetPlayer.DisplayName .. ")")
                    wait(2)
                    sendMessage("OS Definition: Unknown")
                    wait(2)
                    sendMessage(generateFakeIP() le le le)
                end
            end)

            closeButton.MouseButton1Click:Connect(function()
                local zoomOut = TweenService:Create(mainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
                    Size = UDim2.new(0, 0, 0, 0),
                    BackgroundTransparency = 1
                })
                zoomOut:Play()
                zoomOut.Completed:Connect(function()
                    gui:Destroy()
                end)
            end)

            -- Добавление функции для перетаскивания баннера
            local dragging = false
            local dragStart, startPos

            mainFrame.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging = true
                    dragStart = input.Position
                    startPos = mainFrame.Position
                end
            end)

            mainFrame.InputChanged:Connect(function(input)
                if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
                    local delta = input.Position - dragStart
                    local goal = UDim2.new(
                        startPos.X.Scale,
                        startPos.X.Offset + delta.X,
                        startPos.Y.Scale,
                        startPos.Y.Offset + delta.Y
                    )
                    TweenService:Create(mainFrame, TweenInfo.new(0.1, Enum.EasingStyle.Linear), {Position = goal}):Play()
                end
            end)

            mainFrame.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging = false
                end
            end)
        end)
    else
        passwordBox.Text = ""
        passwordBox.PlaceholderText = "Wrong password"
        passwordBox.PlaceholderColor3 = Color3.fromRGB(255, 0, 0) -- Красный текст при ошибке
    end
end)
